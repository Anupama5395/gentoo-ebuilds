--- includes/definitions.inc.php.dist	2013-07-08 02:16:46.695695334 +0100
+++ includes/definitions.inc.php	2013-07-08 02:25:40.565869101 +0100
@@ -1321,25 +1321,51 @@ $config['routing_types']['vrf']       =
 
 $config['version']  = "0.SVN.ERROR";
 
-if (file_exists($config['install_dir'] . '/.svn/entries'))
-{
-  $svn = File($config['install_dir'] . '/.svn/entries');
-  if ((int)$svn[0] < 12)
-  {
+//if (file_exists($config['install_dir'] . '/.svn/entries'))
+//{
+  //$svn = File($config['install_dir'] . '/.svn/entries');
+  //if ((int)$svn[0] < 12)
+  //{
     // SVN version < 1.7
-    $svn_rev = trim($svn[3]);
-    list($svn_date) = explode("T", trim($svn[9]));
-  } else {
+    //$svn_rev = trim($svn[3]);
+    //list($svn_date) = explode("T", trim($svn[9]));
+  //} else {
     // SVN version >= 1.7
-    $xml = simplexml_load_string(shell_exec($config['svn'] . ' info --xml'));
+    //$xml = simplexml_load_string(shell_exec($config['svn'] . ' info --xml'));
+    $xmlstr = <<<EOD
+<?xml version="1.0" encoding="UTF-8"?>
+<info>
+<entry
+   kind="dir"
+   path="."
+   revision="3763">
+<url>http://www.observium.org/svn/observer/trunk</url>
+<repository>
+<root>http://www.observium.org/svn</root>
+<uuid>61d68cd4-352d-0410-923a-c4978735b2b8</uuid>
+</repository>
+<wc-info>
+<wcroot-abspath>/usr/portage/distfiles/svn-src/observium/trunk</wcroot-abspath>
+<schedule>normal</schedule>
+<depth>infinity</depth>
+</wc-info>
+<commit
+   revision="3763">
+<author>adama</author>
+<date>2013-03-17T16:08:01.358680Z</date>
+</commit>
+</entry>
+</info>
+EOD;
+    $xml = simplexml_load_string($xmlstr);
     if ($xml != false)
     {
       $svn_rev = $xml->entry->commit->attributes()->revision;
       $svn_date = $xml->entry->commit->date;
     }
-  }
+  //}
   list($svn_year, $svn_month, $svn_day) = explode("-", $svn_date);
-}
+//}
 if (!empty($svn_rev))
 {
   $config['version'] = "0." . ($svn_year-2000) . "." . ($svn_month+0) . "." . $svn_rev;
