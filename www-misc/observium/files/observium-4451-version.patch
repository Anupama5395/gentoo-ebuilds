--- includes/definitions.inc.php.dist	2013-09-04 23:35:44.554394667 +0100
+++ includes/definitions.inc.php	2013-09-04 23:41:52.214737761 +0100
@@ -1705,28 +1705,54 @@
 
 $config['version']  = "0.SVN.ERROR";
 
-$svn_new = TRUE;
-if (file_exists($config['install_dir'] . '/.svn/entries'))
-{
-  $svn = File($config['install_dir'] . '/.svn/entries');
-  if ((int)$svn[0] < 12)
-  {
+//$svn_new = TRUE;
+//if (file_exists($config['install_dir'] . '/.svn/entries'))
+//{
+  //$svn = File($config['install_dir'] . '/.svn/entries');
+  //if ((int)$svn[0] < 12)
+  //{
     // SVN version < 1.7
-    $svn_rev = trim($svn[3]);
-    list($svn_date) = explode("T", trim($svn[9]));
-    $svn_new = FALSE;
-  }
-}
-if ($svn_new)
-{
+    //$svn_rev = trim($svn[3]);
+    //list($svn_date) = explode("T", trim($svn[9]));
+    //$svn_new = FALSE;
+  //}
+//}
+//if ($svn_new)
+//{
   // SVN version >= 1.7
-  $xml = simplexml_load_string(shell_exec($config['svn'] . ' info --xml ' . $config['install_dir']));
+  //$xml = simplexml_load_string(shell_exec($config['svn'] . ' info --xml ' . $config['install_dir']));
+  $xmlstr = <<<EOD
+<?xml version="1.0" encoding="UTF-8"?>
+<info>
+<entry
+   kind="dir"
+   path="."
+   revision="4451">
+<url>http://www.observium.org/svn/observer/trunk</url>
+<repository>
+<root>http://www.observium.org/svn</root>
+<uuid>61d68cd4-352d-0410-923a-c4978735b2b8</uuid>
+</repository>
+<wc-info>
+<wcroot-abspath>/usr/portage/distfiles/svn-src/observium/trunk</wcroot-abspath>
+<schedule>normal</schedule>
+<depth>infinity</depth>
+</wc-info>
+<commit
+   revision="4451">
+<author>mike</author>
+<date>2013-09-04T18:13:07.855252Z</date>
+</commit>
+</entry>
+</info>
+EOD;
+  $xml = simplexml_load_string($xmlstr);
   if ($xml != false)
   {
     $svn_rev = $xml->entry->commit->attributes()->revision;
     $svn_date = $xml->entry->commit->date;
   }
-}
+//}
 if (!empty($svn_rev))
 {
   list($svn_year, $svn_month, $svn_day) = explode("-", $svn_date);
